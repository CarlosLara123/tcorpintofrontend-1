{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Desarrollo\\\\Desktop\\\\Proyectos\\\\Proyectospropios\\\\Tcorpinto\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Desarrollo\\\\Desktop\\\\Proyectos\\\\Proyectospropios\\\\Tcorpinto\\\\frontend\\\\src\\\\pages\\\\auth\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport GoogleLogin from 'react-google-login';\nimport Swal from 'sweetalert2';\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from 'mdbreact'; //Complements\n\nimport SectionContainer from '../../components/sectionContainer';\nimport Navbar from '../parcials/Navbar';\nimport GoogleBtn from '../../components/GoogleBtn'; //Css\n\nimport './Login.css'; //Functions\n\nimport { login } from '../../functions/UserFunctions';\n\nconst Login = () => {\n  const clientId = process.env.REACT_APP_GOOGLE_ID;\n  const history = useHistory();\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _Login = () => {\n    const userData = {\n      user: user,\n      password: password\n    };\n    login(userData).then(res => {\n      if (res.error === 1) {\n        Swal.fire('Oops...', res.message, 'error');\n      } else {\n        history.push(\"/bitacoras\");\n      }\n    });\n  };\n\n  const onChangeUser = e => {\n    setUser(e.target.value);\n  };\n\n  const onChangePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const responseGoogle = response => {\n    console.log(response);\n  };\n\n  if (localStorage.getItem('session')) {\n    history.push(\"/bitacoras\");\n  }\n\n  return /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MDBContainer, {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SectionContainer, {\n    noBorder: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MDBRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MDBCol, {\n    className: \"card-login\",\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SectionContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"h5 text-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }, \"Iniciar Sesi\\xF3n\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grey-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(MDBInput, {\n    label: \"Ingrese usuario\",\n    icon: \"user\",\n    group: true,\n    type: \"text\",\n    validate: true,\n    error: \"wrong\",\n    success: \"right\",\n    name: \"user\",\n    onChange: onChangeUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(MDBInput, {\n    label: \"Ingrese Contrase\\xF1a\",\n    icon: \"lock\",\n    group: true,\n    type: \"password\",\n    name: \"password\",\n    onChange: onChangePassword,\n    validate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    color: \"info\",\n    onClick: _Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 41\n    }\n  }, \"Ingresar\"), /*#__PURE__*/React.createElement(GoogleLogin, {\n    className: \"btn-google\",\n    clientId: clientId,\n    buttonText: \"Ingresar\",\n    onSuccess: responseGoogle,\n    onFailure: responseGoogle,\n    cookiePolicy: 'single_host_origin',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 41\n    }\n  })))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Desarrollo/Desktop/Proyectos/Proyectospropios/Tcorpinto/frontend/src/pages/auth/Login.js"],"names":["React","useState","useHistory","GoogleLogin","Swal","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","SectionContainer","Navbar","GoogleBtn","login","Login","clientId","process","env","REACT_APP_GOOGLE_ID","history","user","setUser","password","setPassword","_Login","userData","then","res","error","fire","message","push","onChangeUser","e","target","value","onChangePassword","responseGoogle","response","console","log","localStorage","getItem"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport GoogleLogin from 'react-google-login';\r\nimport Swal from 'sweetalert2'\r\nimport {\r\n    MDBContainer,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBInput,\r\n    MDBBtn\r\n} from 'mdbreact';\r\n\r\n//Complements\r\nimport SectionContainer from '../../components/sectionContainer';\r\nimport Navbar from '../parcials/Navbar'\r\nimport GoogleBtn from '../../components/GoogleBtn';\r\n//Css\r\nimport './Login.css'\r\n\r\n//Functions\r\nimport { login } from '../../functions/UserFunctions';\r\n\r\nconst Login = () => {\r\n    \r\n    const clientId = process.env.REACT_APP_GOOGLE_ID;\r\n\r\n    const history = useHistory();\r\n    const [user, setUser] = useState();\r\n    const [password, setPassword] = useState();\r\n\r\n    const _Login = () => {\r\n\r\n        const userData = {\r\n            user: user,\r\n            password: password\r\n        }\r\n\r\n        login(userData).then(res => {\r\n            if (res.error === 1) {\r\n                Swal.fire('Oops...', res.message, 'error');\r\n            } else {\r\n                history.push(`/bitacoras`);\r\n            }\r\n        })\r\n    }\r\n\r\n    const onChangeUser = e => {\r\n        setUser(e.target.value);\r\n    }\r\n\r\n    const onChangePassword = e => {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    const responseGoogle = (response) => {\r\n        console.log(response);\r\n      }\r\n\r\n    if (localStorage.getItem('session')) {\r\n        history.push(`/bitacoras`);\r\n    }\r\n\r\n    return (\r\n        <Navbar>\r\n            <MDBContainer className='mt-5'>\r\n                <SectionContainer noBorder>\r\n                    <MDBRow>\r\n                        <MDBCol className=\"card-login\" md='6'>\r\n                            <SectionContainer>\r\n                                <form>\r\n                                    <p className='h5 text-center mb-4'>Iniciar Sesión</p>\r\n                                    <div className='grey-text'>\r\n                                        <MDBInput\r\n                                            label='Ingrese usuario'\r\n                                            icon='user'\r\n                                            group\r\n                                            type='text'\r\n                                            validate\r\n                                            error='wrong'\r\n                                            success='right'\r\n                                            name='user'\r\n                                            onChange={onChangeUser}\r\n                                        />\r\n                                        <MDBInput\r\n                                            label='Ingrese Contraseña'\r\n                                            icon='lock'\r\n                                            group\r\n                                            type='password'\r\n                                            name='password'\r\n                                            onChange={onChangePassword}\r\n                                            validate\r\n                                        />\r\n                                    </div>\r\n                                    <div className='text-center'>\r\n                                        <MDBBtn color=\"info\" onClick={_Login}>Ingresar</MDBBtn>\r\n                                        <GoogleLogin\r\n                                            className=\"btn-google\"\r\n                                            clientId={clientId}\r\n                                            buttonText=\"Ingresar\"\r\n                                            onSuccess={responseGoogle}\r\n                                            onFailure={responseGoogle}\r\n                                            cookiePolicy={'single_host_origin'}\r\n                                        />\r\n                                    </div>\r\n                                </form>\r\n                            </SectionContainer>\r\n                        </MDBCol>\r\n                    </MDBRow>\r\n                </SectionContainer>\r\n            </MDBContainer>\r\n            </Navbar>\r\n    )\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}